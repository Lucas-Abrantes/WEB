<html>
    <style>

        .play_options img, .enemy_options img{
            max-width: 100px;
            opacity: 0.3;
            cursor: pointer;
        }

        .play_options, .enemy_options{
            width: 50%;
        }

        .align{
            display: flex;
        }
    </style>


<body>
    <h1 style="text-align: center;">Pedra, papel ou tesousa</h1>
    <h2 style="text-align: center;" class="vencedor"></h2>
    <hr>
    <div class="align">

        <div class="play_options">
            <div><img opt="pedra" src="rock.png"></div>
            <div><img opt = "papel" src="paper.png"></div>
            <div><img opt = "tesoura" src="scisor.png"></div>
        </div>

        <div class="enemy_options">
            <div><img opt = "pedra" src="rock.png"></div>
            <div><img opt = "papel" src="paper.png"></div>
            <div><img opt = "tesoura" src="scisor.png"></div>
        </div>
    </div>



    <script>

        var elementos = document.querySelectorAll('.play_options div > img');
        var playerOpt = "";
        var inimigoOpt = "";

        function validarVitoria(){
            let vencedor = document.querySelector('.vencedor')

            if (playerOpt == 'papel'){

                if(inimigoOpt == 'papel'){
                    vencedor.innerHTML = "O jogo foi empatado";
                }

                else if(inimigoOpt == 'tesoura'){
                    vencedor.innerHTML = "O inimigo ganhou";
                }

                else if(inimigoOpt == 'pedra'){
                    vencedor.innerHTML = "O player ganhou";
                }
            }


            if (playerOpt == 'Tesoura'){

                if(inimigoOpt == 'papel'){
                    vencedor.innerHTML = "O player ganhou";
                }
                else if(inimigoOpt == 'tesoura'){
                    vencedor.innerHTML = "Empate";
                }
                else if(inimigoOpt == 'pedra'){
                    vencedor.innerHTML = "Inimigo ganhou";
                }
            }


            if (playerOpt == 'pedra'){

                if(inimigoOpt == 'papel'){
                    vencedor.innerHTML = "O inimigo ganhou";
                }
                else if(inimigoOpt == 'tesoura'){
                    vencedor.innerHTML = "Player ganhou";
                }
                else if(inimigoOpt == 'pedra'){
                    vencedor.innerHTML = "Empatou";
                }
            }

        }

        function resetInimigo(){
            const enemyOptions = document.querySelectorAll('.enemy_options div');
            for (var i = 0; i < enemyOptions.length; i++){
                enemyOptions[i].childNodes[0].style.opacity = 0.3;
            }
        }

        function inimigoJogar(){
            let rand = Math.floor(Math.random()*3)
            const enemyOptions = document.querySelectorAll('.enemy_options div');
            resetInimigo()

            for (var i = 0; i < enemyOptions.length; i++){
                if (i == rand){
                    enemyOptions[i].childNodes[0].style.opacity = 1;
                    inimigoOpt = enemyOptions[i].childNodes[0].getAttribute('opt');
                }
            }

            validarVitoria();

            //alert(playerOpt);
            //alert(inimigoOpt);
        }




        function resetOpacityPlayer(){
            for(var i = 0; i < elementos.length; i++){
                elementos[i].style.opacity = 0.3
            }
        }
        for(var i = 0; i < elementos.length; i++){
            elementos[i].addEventListener('click', function(t){
                resetOpacityPlayer()
                t.target.style.opacity = 1;
                playerOpt = t.target.getAttribute('opt');
                inimigoJogar();
            });
        }
        
    </script>

</body>

</html>